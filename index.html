<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>karo brother-h√∫t</title>
    <link rel="stylesheet" href="src/css/main.css" />
  </head>
  <!--m√†y ng√≥ c√°i l·ªìn g√¨?-->
  <body>
    <div id="app">
      <section id="login-screen" class="screen">
        <div class="panel">
          <h1>karo brother-h√∫t</h1>
          <p>created by vtduong from huit-brotherhood</p>
          <p class="subtitle">Ch·ªçn m·ªôt t√™n hi·ªÉn th·ªã ƒë·ªÉ v√†o lobby.</p>
          <form id="login-form">
            <input id="name-input" type="text" maxlength="20" placeholder="Nh·∫≠p t√™n (3-20 k√Ω t·ª±)" autocomplete="off" required />
            <button type="submit">V√†o</button>
            <p id="login-error" class="error"></p>
          </form>
          <p>üòè</p>
        </div>
      </section>

      <section id="lobby-screen" class="screen hidden">
        <header class="toolbar">
          <div>
            <h2>Lobby</h2>
            <p id="self-label"></p>
          </div>
          <button id="logout-button" class="secondary">quƒÉng game</button>
        </header>
        <div class="lobby-layout">
          <div class="lobby-controls">
            <input id="search-input" type="text" placeholder="T√¨m ng∆∞·ªùi ch∆°i" autocomplete="off" />
          </div>
          <ul id="user-list" class="user-list"></ul>
        </div>
      </section>

      <section id="game-screen" class="screen hidden">
        <header class="toolbar">
          <div>
            <h2>V√°n ƒë·∫•u</h2>
            <p id="game-status"></p>
          </div>
          <button id="leave-game-button" class="secondary">ƒê·∫ßu h√†ng</button>
        </header>
        <div class="game-layout">
          <div id="board" class="board-grid" role="grid" aria-label="B√†n c·ªù caro"></div>
          <aside class="sidebar">
            <div class="player-card" data-mark="x">
              <span class="mark">X</span>
              <div class="info">
                <p class="name" id="player-x-name">Ng∆∞·ªùi ch∆°i X</p>
                <p class="status" id="player-x-status"></p>
              </div>
            </div>
            <div class="player-card" data-mark="o">
              <span class="mark">O</span>
              <div class="info">
                <p class="name" id="player-o-name">Ng∆∞·ªùi ch∆°i O</p>
                <p class="status" id="player-o-status"></p>
              </div>
            </div>
            <div class="timer-panel">
              <p>L∆∞·ª£t hi·ªán t·∫°i:</p>
              <p id="turn-indicator" class="turn-indicator">-</p>
              <p id="turn-countdown" class="countdown">30s</p>
            </div>
            <div class="chat-panel">
              <h3>Tr√≤ chuy·ªán</h3>
              <div id="chat-messages" class="chat-messages"></div>
              <form id="chat-form">
                <input id="chat-input" type="text" maxlength="200" placeholder="Nh·∫≠p tin nh·∫Øn..." autocomplete="off" />
                <button type="submit">G·ª≠i</button>
              </form>
            </div>
          </aside>
        </div>
      </section>
    </div>

    <div id="invite-modal" class="modal hidden" role="dialog" aria-modal="true">
      <div class="modal-content">
        <h3>L·ªùi m·ªùi thi ƒë·∫•u</h3>
        <p id="invite-text"></p>
        <div class="modal-actions">
          <button id="invite-accept" class="primary eq-button">Ch·∫•p nh·∫≠n</button>
          <button id="invite-decline" class="secondary eq-button">T·ª´ ch·ªëi</button>
        </div>
      </div>
    </div>

    <div id="toast-container" aria-live="polite"></div>

    <div id="lobby-chat" class="floating-chat hidden" aria-live="polite">
      <div class="floating-header">
        <span class="floating-title">global_chat_testing_panel</span>
        <button id="lobby-chat-toggle" class="floating-toggle" type="button" aria-expanded="true" aria-label="Thu nh·ªè chat">‚Ä∫</button>
      </div>
      <div class="floating-body">
        <div id="lobby-chat-messages" class="floating-messages"></div>
        <form id="lobby-chat-form" class="floating-form">
          <input id="lobby-chat-input" type="text" maxlength="240" placeholder="Nh·∫≠p tin nh·∫Øn..." autocomplete="off" />
          <button type="submit">G·ª≠i</button>
        </form>
      </div>
    </div>

    <template id="user-row-template">
      <li class="user-row">
        <div class="avatar"></div>
        <div class="details">
          <p class="username"></p>
          <p class="meta"></p>
        </div>
        <button class="invite-button">M·ªùi</button>
      </li>
    </template>

    <script src="src/js/main.js" type="module"></script>
  </body>
</html>
